# Node 2: 项目域 - 开发检查清单

## 📋 功能完成度

### 后端 API

| 模块 | 功能 | 状态 |
|------|------|------|
| **项目模块** | 创建项目 | ✅ |
| | 项目列表（可见性过滤） | ✅ |
| | 项目详情 | ✅ |
| | 更新项目 | ✅ |
| | 项目审核（管理员） | ✅ |
| | 待审核列表 | ✅ |
| | 项目统计 | ✅ |
| | 项目时间线 | ✅ |
| | **申请加入项目** | ✅ |
| | **获取加入申请列表** | ✅ |
| | **审批加入申请** | ✅ |
| | **新建项目进程** | ✅ |
| | **添加更正事件** | ✅ |
| | **移除项目成员** | ✅ |
| | **更新成员角色** | ✅ |
| | **股权结构调整（管理员）** | ✅ |
| | **变更业务状态** | ✅ |
| **需求模块** | 创建需求（普通/人脉） | ✅ |
| | 需求列表 | ✅ |
| | 需求详情 | ✅ |
| | 更新需求 | ✅ |
| | 关闭需求（正常完成） | ✅ |
| | **取消需求（提前终止）** | ✅ |
| | 项目需求列表 | ✅ |
| **价值记录模块** | 创建价值记录 | ✅ |
| | 价值记录列表 | ✅ |
| | 价值记录详情 | ✅ |
| | 更新价值记录 | ✅ |
| | 删除价值记录 | ✅ |
| | **价值统计（曲线数据）** | ✅ |
| **响应模块** | 创建响应 | ✅ |
| | 响应列表 | ✅ |
| | 响应详情 | ✅ |
| | 审核响应（接受/拒绝） | ✅ |
| | 确认资源已使用 | ✅ |
| | 发起修改/废弃申请 | ✅ |
| | **资源方确认修改/废弃** | ✅ |
| | **管理员裁决** | ✅ |
| | 我的响应 | ✅ |

### 前端页面

| 页面 | 功能 | 状态 |
|------|------|------|
| **项目列表页** | 搜索、筛选、分页 | ✅ |
| | 项目卡片展示 | ✅ |
| | 发起项目入口（联创/管理员） | ✅ |
| **项目详情页** | 概览 Tab | ✅ |
| | 时间线 Tab | ✅ |
| | 需求 Tab | ✅ |
| | 成员 Tab | ✅ |
| | 股权 Tab | ✅ |
| | 审核项目（管理员） | ✅ |
| **需求列表页** | 搜索、筛选、分页 | ✅ |
| | 需求类型标识 | ✅ |

### PRD 验收标准

| 条目 | 描述 | 状态 |
|------|------|------|
| PRD 6.3.2 | 须知页勾选后才能新建 | ⏳ (前端待实现) |
| PRD 6.3.3 | 项目表单字段完整 | ✅ |
| PRD 6.3.3 | 51% 元征固定股权 | ✅ |
| PRD 6.3.3 | 待审核期间禁止 Token 操作 | ✅ |
| PRD 6.3.4 | 加入项目申请与审批 | ✅ |
| PRD 6.3.5 | 普通需求 + 人脉需求两种表单 | ✅ |
| PRD 6.3.5 | 人脉需求目标画像字段 | ✅ |
| PRD 6.3.6 | 响应须知文档 | ⏳ (前端待实现) |
| PRD 6.3.6 | 响应被接受后自动加入项目成员 | ✅ |
| PRD 6.3.6.5 | 修改/废弃流程（资源方确认→管理员裁决） | ✅ |
| PRD 6.3.8 | 新建项目进程记录 | ✅ |
| PRD 6.3.8.4 | 更正事件（不删除旧事件） | ✅ |
| PRD 11 | 所有关键事件写入 ProjectEvent | ✅ |
| PRD 26 | Node 2 交付物完整 | ✅ |

## 📊 API 路由统计

| 模块 | 路由数 |
|------|--------|
| 项目 | 16 |
| 需求 | 7 (+1 取消需求) |
| 响应 | 9 |
| 价值记录 | 6 (管理员功能) |
| **总计** | **38** |

## 🔧 Prisma 模型更新

| 模型 | 状态 | 说明 |
|------|------|------|
| `ProjectJoinRequest` | ✅ 新增 | 加入项目申请 |
| `ResponseStatus` 枚举 | ✅ 更新 | 添加待确认/裁决状态 |
| `ProjectEventType` 枚举 | ✅ 更新 | 添加加入申请/裁决事件类型 |
| `DemandResponse` | ✅ 更新 | 添加裁决相关字段 |

## 📁 文件结构

```
backend/src/modules/
├── projects/
│   ├── project.dto.ts       # 项目 DTO
│   ├── project.service.ts   # 项目服务
│   ├── project.router.ts    # 项目路由
│   └── index.ts
├── demands/
│   ├── demand.dto.ts        # 需求 DTO
│   ├── demand.service.ts    # 需求服务
│   ├── demand.router.ts     # 需求路由
│   └── index.ts
├── responses/
│   ├── response.dto.ts      # 响应 DTO
│   ├── response.service.ts  # 响应服务
│   ├── response.router.ts   # 响应路由
│   └── index.ts
└── value-records/
    ├── value-record.dto.ts      # 价值记录 DTO
    ├── value-record.service.ts  # 价值记录服务
    ├── value-record.router.ts   # 价值记录路由
    └── index.ts

frontend/src/
├── api/
│   ├── projects.ts          # 项目 API（含加入申请/成员管理/股权调整）
│   ├── demands.ts           # 需求 API（含取消需求）
│   ├── responses.ts         # 响应 API（含裁决流程）
│   └── value-records.ts     # 价值记录 API
└── pages/
    ├── projects/
    │   ├── ProjectsPage.tsx
    │   ├── ProjectDetailPage.tsx
    │   └── index.ts
    └── demands/
        ├── DemandsPage.tsx
        └── index.ts
```

## ⏭️ 待完善功能（前端）

1. **发起项目表单页** - 包含须知页和完整表单
2. **需求详情页** - 响应入口
3. **加入项目表单** - 前端申请表单
4. **需求创建表单页** - 普通/人脉两种表单
5. **响应创建表单页** - 包含须知页
6. **资源方确认界面** - 修改/废弃确认

## ✅ 完成状态

### 后端
- [x] Prisma Schema（Project, Demand, Response, ProjectEvent, ProjectJoinRequest, ValueRecord）
- [x] 项目模块（CRUD, 审核, 加入申请, 进程记录, 成员管理, 股权调整, 状态变更）
- [x] 需求模块（普通/人脉需求, 关闭, 取消）
- [x] 响应模块（CRUD, 审核, 修改/废弃, 资源方确认, 管理员裁决）
- [x] 价值记录模块（CRUD, 统计）
- [x] 路由注册（38 个 API）

### 前端
- [x] 前端 API 客户端（项目/需求/响应/价值记录 完整）
- [x] 项目列表页
- [x] 项目详情页（概览/时间线/需求/成员/股权）
- [x] 需求列表页
- [x] 路由注册
- [x] 状态映射与颜色配置

